<UserControl x:Class="DEBA.StockApp.Views.InventoryView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:local="clr-namespace:DEBA.StockApp.Views">
    <Grid Background="#F5F5F5">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="300"/>
        </Grid.RowDefinitions>

        <!-- DataGrid -->
        <DataGrid Grid.Row="0" 
                  ItemsSource="{Binding Products}"
                  SelectedItem="{Binding SelectedProduct}"
                  AutoGenerateColumns="False"
                  CanUserAddRows="False"
                  Margin="10">
            <DataGrid.Columns>
                <DataGridTextColumn Header="ID" Binding="{Binding ProductId}" IsReadOnly="True" Width="50"/>
                <DataGridTextColumn Header="SKU" Binding="{Binding SKU}" Width="80"/>
                <DataGridTextColumn Header="Nom" Binding="{Binding Name}" Width="150"/>
                <DataGridTextColumn Header="Description" Binding="{Binding Description}" Width="150"/>
                <DataGridTextColumn Header="Prix Unitaire" Binding="{Binding UnitPrice, StringFormat=C}" Width="100"/>
                <DataGridTextColumn Header="Prix Co√ªt" Binding="{Binding CostPrice, StringFormat=C}" Width="100"/>
                <DataGridTextColumn Header="R√©approvisionnement" Binding="{Binding ReorderLevel}" Width="100"/>
                <DataGridCheckBoxColumn Header="Actif" Binding="{Binding IsActive}" Width="50"/>
            </DataGrid.Columns>
        </DataGrid>

        <!-- Separator -->
        <Separator Grid.Row="1" Background="#CCCCCC"/>

        <!-- Form -->
        <StackPanel Grid.Row="2" Margin="10" Background="White">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <StackPanel>
                    <Grid Margin="5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <!-- Left Column -->
                        <StackPanel Grid.Column="0" Margin="5">
                            <TextBlock Text="SKU" FontWeight="Bold" Margin="0,5"/>
                            <TextBox Text="{Binding SelectedProduct.SKU, UpdateSourceTrigger=PropertyChanged}" Padding="5" Margin="0,2,5,10"/>

                            <TextBlock Text="Nom *" FontWeight="Bold" Margin="0,5"/>
                            <TextBox Text="{Binding SelectedProduct.Name, UpdateSourceTrigger=PropertyChanged}" Padding="5" Margin="0,2,5,10"/>

                            <TextBlock Text="Prix Unitaire *" FontWeight="Bold" Margin="0,5"/>
                            <TextBox Text="{Binding SelectedProduct.UnitPrice, UpdateSourceTrigger=PropertyChanged}" Padding="5" Margin="0,2,5,10"/>
                        </StackPanel>

                        <!-- Right Column -->
                        <StackPanel Grid.Column="1" Margin="5">
                            <TextBlock Text="Description" FontWeight="Bold" Margin="0,5"/>
                            <TextBox Text="{Binding SelectedProduct.Description, UpdateSourceTrigger=PropertyChanged}" Padding="5" Margin="0,2,0,10"/>

                            <TextBlock Text="Prix Co√ªt *" FontWeight="Bold" Margin="0,5"/>
                            <TextBox Text="{Binding SelectedProduct.CostPrice, UpdateSourceTrigger=PropertyChanged}" Padding="5" Margin="0,2,0,10"/>

                            <TextBlock Text="Niveau de R√©approvisionnement *" FontWeight="Bold" Margin="0,5"/>
                            <TextBox Text="{Binding SelectedProduct.ReorderLevel, UpdateSourceTrigger=PropertyChanged}" Padding="5" Margin="0,2,0,10"/>
                        </StackPanel>
                    </Grid>

        <!-- Buttons -->
                    <StackPanel Orientation="Horizontal" Margin="5" HorizontalAlignment="Center">
                        <Button Command="{Binding AddCommand}" 
                                Background="#4CAF50" Foreground="White" Padding="15,8" FontWeight="Bold">
                            ‚ûï Ajouter
                        </Button>
                        <Button Command="{Binding UpdateCommand}" 
                                Background="#2196F3" Foreground="White" Padding="15,8" FontWeight="Bold"
                                Margin="5,0,0,0">
                            ‚úèÔ∏è Modifier
                        </Button>
                        <Button Command="{Binding DeleteCommand}" 
                                Background="#F44336" Foreground="White" Padding="15,8" FontWeight="Bold"
                                Margin="5,0,0,0">
                            üóëÔ∏è Supprimer
                        </Button>
                        <Button Command="{Binding RefreshCommand}" 
                                Background="#FF9800" Foreground="White" Padding="15,8" FontWeight="Bold"
                                Margin="5,0,0,0">
                            üîÑ Actualiser
                        </Button>
                    </StackPanel>
                </StackPanel>
            </ScrollViewer>
        </StackPanel>
    </Grid>
</UserControl>
